{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/drawing-canvas/drawing-canvas.component.ts","./src/app/drawing-canvas/drawing-canvas.component.html","./src/app/git-manage/git-manage.component.ts","./src/app/git-manage/git-manage.component.html","./src/app/git.service.ts","./src/app/git/git.component.ts","./src/app/image-selector/image-selector.component.ts","./src/app/image-selector/image-selector.component.html","./src/app/layers/layers.component.ts","./src/app/layers/layers.component.html","./src/app/models/layer-change.ts","./src/app/models/layer.ts","./src/app/revert-from-history/revert-from-history.component.ts","./src/app/revert-from-history/revert-from-history.component.html","./src/app/services/lut-service.service.ts","./src/app/services/masking.service.ts","./src/app/services/png-to-svg.service.ts","./src/app/services/svgtopng.service.ts","./src/app/toggle-pixelation/toggle-pixelation.component.ts","./src/app/toolbar-color-selector/toolbar-color-selector.component.ts","./src/app/toolbar-color-selector/toolbar-color-selector.component.html","./src/app/toolbar/toolbar.component.ts","./src/app/toolbar/toolbar.component.html","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { GitComponent } from './git/git.component';\nimport { DrawingCanvasComponent } from './drawing-canvas/drawing-canvas.component';\n\nconst routes: Routes = [\n  {path: '', component: DrawingCanvasComponent},\n  {path: 'authresponse', component: GitComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { GitService } from './git.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit{\n  constructor(private route: ActivatedRoute, private git: GitService){}\n  ngOnInit(): void {\n    this.route.queryParams.subscribe(params => {\n      if(params.code){\n        this.git.getGithubToken(params.code).subscribe( ret => {\n          if (!ret.toString().includes('error')) {\n            localStorage.setItem('gitToken', 'Bearer ' + ret.toString().match(/(?<==)(.*?)(?=&)/)[0]);\n            window.close();\n          } else {\n            localStorage.setItem('gitToken', 'ERROR');\n            window.close();\n          }\n        });\n      }\n    });\n  }\n  title = 'img-labeler';\n}\n","<router-outlet>\n<ngx-ui-loader></ngx-ui-loader>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { DrawingCanvasComponent } from './drawing-canvas/drawing-canvas.component';\nimport { Ng2PanZoomModule } from 'ng2-panzoom';\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\nimport { NgxUiLoaderModule } from 'ngx-ui-loader';\nimport { GitComponent } from './git/git.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { GitManageComponent } from './git-manage/git-manage.component';\nimport { ToolbarComponent } from './toolbar/toolbar.component';\nimport { ToolbarColorSelectorComponent } from './toolbar-color-selector/toolbar-color-selector.component';\nimport { ImageSelectorComponent } from './image-selector/image-selector.component';\nimport { LayersComponent } from './layers/layers.component';\nimport { RevertFromHistoryComponent } from './revert-from-history/revert-from-history.component';\nimport { TogglePixelationComponent } from './toggle-pixelation/toggle-pixelation.component';\n\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    DrawingCanvasComponent,\n    GitComponent,\n    GitManageComponent,\n    ToolbarComponent,\n    ToolbarColorSelectorComponent,\n    ImageSelectorComponent,\n    LayersComponent,\n    RevertFromHistoryComponent,\n    TogglePixelationComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    Ng2PanZoomModule,\n    NgbModule,\n    NgxUiLoaderModule,\n    HttpClientModule,\n    ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit, ViewChild, Renderer2, HostListener, AfterViewInit, Output } from '@angular/core';\nimport * as d3 from 'd3';\nimport * as svg from 'save-svg-as-png';\nimport { PanZoomConfig, PanZoomAPI, PanZoomModel } from 'ng2-panzoom';\nimport { Subscription, Observable } from 'rxjs';\nimport * as cloneDeep from 'node_modules/lodash.clonedeep';\nimport * as potrace from 'potrace';\nimport * as Jimp from 'jimp';\nimport { PngToSvgService } from '../services/png-to-svg.service';\nimport { NgxUiLoaderService } from 'ngx-ui-loader';\nimport { LutServiceService } from '../services/lut-service.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { MaskingService } from '../services/masking.service';\nimport { Layer } from '../models/layer';\nimport { SvgtopngService } from '../services/svgtopng.service';\nimport { environment } from 'src/environments/environment';\n@Component({\n    selector: 'app-drawing-canvas',\n    templateUrl: './drawing-canvas.component.html',\n    styleUrls: ['./drawing-canvas.component.css']\n})\nexport class DrawingCanvasComponent implements OnInit, AfterViewInit {\n    public gitImage: string;\n    public imageName: string;\n    public dragging = false;\n    public drawing = false;\n    public startPoint = [];\n    public svg;\n    public g;\n    public isCollapsed = false;\n    public points = [];\n    public loadedColors: number;\n    public color = '#402020';\n    public colorIndex = 0;\n    public history = [];\n    public providedURL: string;\n    public customMaskURL: string;\n    public svgElement;\n    public panzoomConfig: PanZoomConfig = new PanZoomConfig({\n        zoomLevels: 10,\n        scalePerZoomLevel: 1.5,\n        zoomStepDuration: 0.2,\n        freeMouseWheel: false,\n        invertMouseWheel: true,\n        zoomToFitZoomLevelFactor: 0.9,\n        dragMouseButton: 'right',\n        initialZoomLevel: 1\n    });\n    private panZoomAPI: PanZoomAPI;\n    public panzoomModel: PanZoomModel;\n    private apiSubscription: Subscription;\n    private modelChangedSubscription: Subscription;\n    public layers;\n    public loadedMask = false;\n    public layerPoints = [];\n    public localStorage = [];\n    public previewShown = false;\n    @ViewChild('artboard') artboard;\n    public opacity: number = 100;\n    @ViewChild('imageNumber') imageNumber;\n    @ViewChild('url') url;\n    @Output() Layers;\n\n    private dimensions;\n\n    ngAfterViewInit(): void {\n        this.maskSvc.setArtboard(this.artboard.nativeElement.innerHTML);\n        this.setLayers();\n        this.svgElement = this.artboard.nativeElement.children[0];\n    }\n\n    constructor(private renderer: Renderer2, private pngToSvg: PngToSvgService,\n        private ngxService: NgxUiLoaderService, private lut: LutServiceService,\n        private activatedRoute: ActivatedRoute, private maskSvc: MaskingService,\n        private svgToPng: SvgtopngService) { }\n\n    ngOnInit(): void {\n        const storage = Object.entries(localStorage);\n        for (const item of storage) {\n            if (item[0].includes('github')) {\n                item[0] = item[0].match(/[\\w-]+\\.(png|jpg)/)[0].substring(0, 4);\n                this.localStorage.push(item);\n            }\n        }\n        this.apiSubscription = this.panzoomConfig.api.subscribe((api: PanZoomAPI) => this.panZoomAPI = api);\n        this.modelChangedSubscription = this.panzoomConfig.modelChanged.subscribe((model: PanZoomModel) => {\n            this.onModelChanged(model);\n            this.panzoomModel = model;\n        });\n\n        this.dimensions = this.maskSvc.getDimensions();\n        this.svg = d3.select('.artboard').append('svg')\n            .attr('background-size', this.dimensions.width+'px '+this.dimensions.height+'px')\n            .attr('height', this.dimensions.canvasHeight)\n            .attr('width', this.dimensions.canvasWidth);\n\n        this.activatedRoute.queryParams.subscribe(params => {\n            const userId = params.userId;\n        });\n\n        this.maskSvc.getImageUrl().subscribe(url => {\n            this.updateCanvas();\n            this.svg.style('background-image', `url('${url}')`);\n        })\n\n        this.maskSvc.getMaskUrl().subscribe(url => {\n            this.loadedMask = true;\n            this.svg.selectAll('.existingMask').remove();\n            const g = this.svg.append('g').attr('class', 'existingMask' + ' completePoly').attr('layerHidden', 'false')\n                .attr('color', 'existingMask')\n                .attr('opacity', this.opacity)\n                .attr('visibility', 'visible');\n            g.append('svg:image')\n                .attr('href', url)\n                .attr('x', 43)\n                .attr('y', 38);\n        })\n\n        this.maskSvc.getLayerChange().subscribe(obj => {\n            if (obj.type === 'opacity') {\n                this.svg.selectAll('.completePoly').attr('opacity', obj.index * .01);\n                this.opacity = obj.index * .01;\n            }\n            if (this.previewShown) {\n                return;\n            }\n            if (obj.type === 'delete') {\n                this.deleteLayer(obj.index);\n            }\n            if (obj.type === 'up') {\n                this.toFront(obj.index);\n            }\n            if (obj.type === 'down') {\n                this.toBottom(obj.index);\n            }\n            if (obj.type === 'toggle') {\n                this.toggleVisibility(obj.index);\n            }\n            if (obj.type === 'clearAll') {\n                this.deleteAllLayers();\n            }\n            if (obj.type === 'revert') {\n                this.revertFromLocalStorage(obj.collection);\n            }\n            if (obj.type === 'toggleAll') {\n                this.toggleAll();\n            }\n            if (obj.type === 'addToLocalStorage') {\n                this.addToLocalStorage();\n            }\n            if (environment.colors.map(e => e.color).includes(obj.type)) {\n                this.updateColor(obj.index, obj.type);\n            }\n            this.setLayers();\n        })\n\n    }\n\n    private updateCanvas(): void {\n      // Set canvas dimensions in case it changed\n      this.dimensions = this.maskSvc.getDimensions();\n      if (this.dimensions) {\n        this.svg = d3.select('.artboard').select('svg')\n          .attr('height', this.dimensions.canvasHeight)\n          .attr('width', this.dimensions.canvasWidth);\n        this.svg.style('background-size', this.dimensions.width+'px '+this.dimensions.height+'px');\n      }\n    }\n\n    private setLayers(): void {\n        this.maskSvc.updateMask({ d3: this.svg, dom: this.artboard.nativeElement, loadedMask: this.loadedMask });\n    }\n\n    private deleteLayerClick(e): void {\n        if (e.target.tagName === 'polygon') {\n            e.target.parentNode.remove();\n        }\n        this.setLayers();\n        this.addToLocalStorage();\n    }\n\n    public mouseUp(e) {\n        if(!this.drawing && e.altKey) {\n            this.deleteLayerClick(e);\n            return;\n        }\n        if (this.g) {\n            this.addToHistory(this.drawing, this.startPoint, this.g, this.points);\n        }\n        this.g = this.svg.select('g.drawPoly');\n        if (e.button !== 0) { return; }\n        if (this.dragging) { return; }\n        if (this.previewShown) { return; }\n        this.drawing = true;\n        this.startPoint = [(e.layerX - this.panzoomModel.pan.x) *\n            (1 / (this.artboard.nativeElement.getBoundingClientRect().width / this.artboard.nativeElement.offsetWidth)),\n        (e.layerY - this.panzoomModel.pan.y) *\n        (1 / (this.artboard.nativeElement.getBoundingClientRect().width / this.artboard.nativeElement.offsetWidth))];\n        if (this.svg.select('g.drawPoly').empty()) {\n            this.g = this.svg.append('g').attr('class', 'drawPoly');\n            this.svg.selectAll('circle').attr('cursor', 'default');\n        }\n        if (e.toElement.tagName === 'circle') {\n            this.closePolygon();\n            return;\n        }\n        this.points.push([(e.layerX - this.panzoomModel.pan.x) *\n            (1 / (this.artboard.nativeElement.getBoundingClientRect().width / this.artboard.nativeElement.offsetWidth)),\n        (e.layerY - this.panzoomModel.pan.y) *\n        (1 / (this.artboard.nativeElement.getBoundingClientRect().width / this.artboard.nativeElement.offsetWidth))]);\n        this.svg.select('g.drawPoly').append('polyline').attr('points', this.points)\n            .style('fill', 'none')\n            .attr('stroke-width', 1 / (this.panzoomModel.zoomLevel / 2))\n            .attr('stroke', '#000');\n        this.svg.select('g.drawPoly').append('circle')\n            .attr('cx', this.points[this.points.length - 1][0])\n            .attr('cy', this.points[this.points.length - 1][1])\n            .attr('r', 4 / (this.panzoomModel.zoomLevel / 1.5))\n            .attr('stroke-width', 1 / (this.panzoomModel.zoomLevel / 2))\n            .attr('fill', this.maskSvc.currentColor.color)\n            .attr('stroke', '#000')\n            .attr('is-handle', 'true')\n            .attr('class', 'inProgressCircle')\n            .attr('style', 'cursor:pointer');\n    }\n    public closePolygon(childPoly?: boolean) {\n        let child = '';\n        if (childPoly) {\n            child = ' child';\n        }\n        this.svg.selectAll('circle').attr('cursor', 'move');\n        this.svg.select('g.drawPoly').remove();\n        const g = this.svg.append('g').attr('class', this.maskSvc.currentColor.color + ' completePoly' + child).attr('layerHidden', 'false')\n            .attr('color', this.maskSvc.currentColor.color)\n            .attr('opacity', this.opacity)\n            .attr('visibility', 'visible');\n        g.append('polygon')\n            .attr('points', this.points)\n            .attr('shape-rendering', 'crispEdges')\n            .style('fill', this.maskSvc.currentColor.color);\n        for (const point of this.points) {\n            const holder = this;\n            g.selectAll('circles')\n                .data([point])\n                .enter()\n                .append('circle')\n                .attr('cx', point[0])\n                .attr('cy', point[1])\n                .attr('r', 4 / this.panzoomModel.zoomLevel)\n                .attr('stroke-width', 1 / (this.panzoomModel.zoomLevel / 2))\n                .attr('fill', '#FDBC07')\n                .attr('stroke', '#000')\n                .attr('is-handle', 'true')\n                .attr('class', 'dragCircle')\n                .attr('cursor', 'move')\n                .call(d3.drag()\n                    .on('drag', function () {\n                        holder.handleDrag(this);\n                    })\n                    .on('end', () => {\n                        this.dragging = false;\n                        this.addToHistory(this.drawing, this.startPoint, this.g, this.points);\n                    })\n                );\n\n        }\n        this.points.splice(0);\n        this.drawing = false;\n        this.setLayers();\n        this.addToLocalStorage();\n        this.addToHistory(this.drawing, this.startPoint, this.g, this.points);\n    }\n\n    public enableDragging() {\n        const holder = this;\n        this.svg.selectAll('.dragCircle').call(d3.drag()\n            .on('drag', function () {\n                holder.handleDrag(this);\n            })\n            .on('end', () => {\n                this.dragging = false;\n                this.addToHistory(this.drawing, this.startPoint, this.g, this.points);\n            })\n        );\n    }\n    public mouseMove(e) {\n        if (!this.drawing) { return; }\n        const g = d3.select('g.drawPoly');\n        if (e.target.tagName === 'line') { return; }\n        if (e.target.className.baseVal === 'inProgressCircle') {\n            g.select('line').remove();\n            return;\n        }\n        g.select('line').remove();\n        g.append('line')\n            .attr('x1', this.startPoint[0])\n            .attr('y1', this.startPoint[1])\n            .attr('x2', (e.layerX - this.panzoomModel.pan.x) *\n                (1 / (this.artboard.nativeElement.getBoundingClientRect().width / this.artboard.nativeElement.offsetWidth)))\n            .attr('y2', (e.layerY - this.panzoomModel.pan.y) *\n                (1 / (this.artboard.nativeElement.getBoundingClientRect().width / this.artboard.nativeElement.offsetWidth)))\n            .attr('stroke', '#53DBF3')\n            .attr('stroke-width', 1 / (this.panzoomModel.zoomLevel * 1.3));\n    }\n\n    public handleDrag(e) {\n        if (this.drawing) { return; }\n        const newPoints = [];\n        let circle;\n        this.dragging = true;\n        const poly = d3.select(e.parentNode).select('polygon');\n        const circles = d3.select(e.parentNode).selectAll('circle');\n        e.setAttribute('cy', d3.event.y);\n        e.setAttribute('cx', d3.event.x);\n        for (const circleGroup of circles._groups[0]) {\n            circle = d3.select(circleGroup);\n            newPoints.push([circle.attr('cx'), circle.attr('cy')]);\n        }\n        poly.attr('points', newPoints);\n    }\n\n    public incrementOpacity(up: boolean): void {\n        if (up) {\n            this.opacity = Math.min(this.opacity + 20, 100);\n        } else {\n            this.opacity = Math.max(this.opacity - 20, 0);\n        }\n        // this.updateOpacity();\n    }\n\n\n\n    public updateImage(url?): void {\n        if (url) { this.svg.style('background-image', `url('${url}')`); } else {\n            this.svg.style('background-image', `url('${this.url.nativeElement.value}')`);\n            this.imageNumber.nativeElement.value = this.url.nativeElement.value.match(/[\\w-]+\\.(png|jpg)/)[0].substring(0, 4);\n        }\n    }\n\n    public updateImageByNumber(): void {\n        this.svg.style('background-image', `url('https://raw.githubusercontent.com/commaai/comma10k/master/imgs/${this.lut.getUrl(this.imageNumber.nativeElement.value.padStart(4, '0'))}')`);\n        this.url.nativeElement.value = `https://raw.githubusercontent.com/commaai/comma10k/master/imgs/${this.lut.getUrl(this.imageNumber.nativeElement.value.padStart(4, '0'))}`;\n        this.imageNumber.nativeElement.value = this.imageNumber.nativeElement.value.padStart(4, '0');\n    }\n\n    onModelChanged(model: PanZoomModel): void {\n        if (this.artboard && model.zoomLevel >= 1) {\n            this.svg.selectAll('circle').attr('r', 4 / (model.zoomLevel / 1.5));\n            this.svg.selectAll('polyline').attr('stroke-width', 1 / (model.zoomLevel / 2));\n            this.svg.selectAll('circle').attr('stroke-width', 1 / (model.zoomLevel / 2));\n        }\n    }\n\n    public addToHistory(drawing, startPoint, g, points): void {\n        const collection = this.svgElement.innerHTML;\n        this.history.unshift([JSON.stringify(collection), JSON.stringify(drawing),\n        JSON.stringify(startPoint), cloneDeep(g), JSON.stringify(points)]);\n        if (this.history.length > 15) {\n            this.history.pop();\n        }\n    }\n\n    public addToLocalStorage(): void {\n        const collection = this.artboard.nativeElement.innerHTML;\n        const contents = JSON.stringify({\n            artboard: JSON.stringify(collection),\n            url: this.maskSvc.currentUrl,\n            opacity: this.opacity\n        });\n        localStorage.setItem(this.maskSvc.currentUrl, contents);\n    }\n\n    public revertFromLocalStorage(collection: string): void {\n        this.deleteAllLayers();\n        const contents = JSON.parse(collection);\n        this.artboard.nativeElement.innerHTML = JSON.parse(contents.artboard);\n        this.svg = d3.select('svg');\n        this.maskSvc.currentUrl = contents.url;\n        this.enableDragging();\n        this.setLayers();\n        this.loadedMask = this.maskSvc.loadedMask();\n        this.svgElement = this.artboard.nativeElement.children[0];\n    }\n\n    public undo(): void {\n        if (this.history.length > 0) {\n            this.svgElement.innerHTML = JSON.parse(this.history[0][0]);\n            this.drawing = JSON.parse(this.history[0][1]);\n            this.startPoint = JSON.parse(this.history[0][2]);\n            this.g = this.history[0][3];\n            this.points = JSON.parse(this.history[0][4]);\n            this.history.shift();\n        }\n        this.enableDragging();\n    }\n\n    public toFront(i: number) {\n        this.svgElement.append(this.svgElement.children[i]);\n    }\n\n    public toBottom(i: number) {\n        this.svgElement.prepend(this.svgElement.children[i]);\n    }\n\n    public updateColor(i: number, color: string) {\n        this.svgElement.children[i].children[0].setAttribute('style', 'fill: ' + color + ';');\n        this.svgElement.children[i].setAttribute('color', color);\n        // TODO update local storage?\n    }\n\n    public toggleVisibility(i: number) {\n        if (this.svgElement.children[i].getAttribute('visibility') !== 'hidden') {\n            this.svgElement.children[i].setAttribute('visibility', 'hidden');\n            this.svgElement.children[i].setAttribute('layerHidden', 'true');\n            return;\n        }\n        this.svgElement.children[i].setAttribute('visibility', 'visible');\n        this.svgElement.children[i].setAttribute('layerHidden', 'false');\n        this.setLayers();\n    }\n\n    public toggleAll(): void {\n        if (this.svgElement.children.length > 0) {\n            if (this.getVisibility(0)) {\n                for (const layer of this.svgElement.children) {\n                    if (layer.classList.contains('completePoly')) {\n                        layer.setAttribute('visibility', 'hidden');\n                        layer.setAttribute('layerHidden', 'true');\n                    }\n                }\n            } else {\n                for (const layer of this.svgElement.children) {\n                    layer.setAttribute('visibility', 'visible');\n                    layer.setAttribute('layerHidden', 'false');\n                }\n            }\n        }\n    }\n\n    public toggleControlPoints(): void {\n        if (this.svgElement.classList.contains('hideCircles')) {\n            this.svgElement.classList.remove('hideCircles');\n        } else {\n            this.svgElement.classList.add('hideCircles');\n        }\n    }\n\n    public previewExport(): void {\n        if (!this.previewShown) {\n            if (this.drawing) {\n                return;\n            }\n            this.previewShown = true;\n            this.svgToPng.base64ToGit()\n                .then(base64 => {\n                    const g = this.svg.append('g').attr('class', 'existingMask' + ' completePoly' + ' preview').attr('layerHidden', 'false')\n                        .attr('color', 'existingMask')\n                        .attr('opacity', (this.opacity > 0.2 ? this.opacity : 0.2))\n                        .attr('visibility', 'visible');\n                    g.append('svg:image')\n                        .attr('href', base64)\n                        .attr('x', 43)\n                        .attr('y', 38)\n                    for (const layer of this.svgElement.children) {\n                        if (!layer.classList.contains('preview')) {\n                            layer.setAttribute('visibility', 'hidden');\n                            layer.setAttribute('layerHidden', 'true');\n                        }\n                    }\n                    this.setLayers();\n                });\n        } else {\n            this.svg.selectAll('.preview').remove();\n            this.previewShown = false;\n            for (const layer of this.svgElement.children) {\n                layer.setAttribute('visibility', 'visible');\n                layer.setAttribute('layerHidden', 'false');\n            }\n            this.setLayers();\n        }\n    }\n\n    public getVisibility(i: number): boolean {\n        if (this.svgElement.children[i].getAttribute('visibility') === 'visible') {\n            return true;\n        }\n        return false;\n    }\n\n    public deleteLayer(i: number) {\n        if (this.getLayerType(i) === 'Existing Mask') {\n            this.loadedMask = false;\n        }\n        this.svgElement.children[i].remove();\n    }\n\n    public deleteAllLayers() {\n        if (this.drawing) { return; }\n        if (confirm('Warning: This will remove all current layers')) {\n            this.svg.selectAll('g').remove();\n        }\n    }\n\n    public deleteCurrentLayer() {\n        if (!this.drawing) { return; }\n        this.drawing = false;\n        this.startPoint = [];\n        this.points = [];\n        this.svg.select('g.drawPoly').remove();\n    }\n\n\n    @HostListener('document:keyup', ['$event'])\n    handleKeyboardEvent(event: KeyboardEvent) {\n        if (event.code === 'Escape') { this.deleteCurrentLayer(); }\n        if (event.code === 'BracketLeft') { this.toggleControlPoints(); }\n        if (event.code === 'KeyO') { this.previewExport(); }\n        if (event.code === 'KeyZ' && event.ctrlKey === true) { this.undo(); }\n        if (event.code === 'Numpad0' || event.code === 'Digit0') { this.panZoomAPI.resetView() }\n    }\n\n    public getLayerType(i: number): string {\n\n        const colors = [['#402020 completePoly', 'Road'], ['#ff0000 completePoly', 'Lane Markings'], ['#808060 completePoly', 'Undrivable'],\n        ['#00ff66 completePoly', 'Movable'], ['#cc00ff completePoly', 'My Car'], ['existingMask completePoly', 'Existing Mask']];\n        for (const color of colors) {\n            if (color[0] === this.svgElement.children[i].getAttribute('class')) {\n                return color[1];\n            }\n        }\n        return 'In Progress';\n    }\n\n\n\n}\n","<app-toolbar></app-toolbar>\n<div class=\"container-fluid mb-4\" style=\"position: absolute; top: 75px; bottom: 0; left: 0; right: 0;\">\n    <pan-zoom [config]=\"panzoomConfig\">\n        <div class=\"artboard\" (mouseup)=\"mouseUp($event)\" (mousemove)=\"mouseMove($event)\" #artboard>\n        </div>\n    </pan-zoom>\n</div>","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { GitService } from '../git.service';\nimport { switchMap } from 'rxjs/operators';\nimport { NgxUiLoaderService } from 'ngx-ui-loader';\nimport { MaskingService } from '../services/masking.service';\nimport { SvgtopngService } from '../services/svgtopng.service';\n\n@Component({\n  selector: 'app-git-manage',\n  templateUrl: './git-manage.component.html',\n  styleUrls: ['./git-manage.component.css']\n})\nexport class GitManageComponent implements OnInit {\n\n  constructor(private git: GitService, private ngxService: NgxUiLoaderService,\n  private maskSvc: MaskingService, private svgToPng: SvgtopngService) { }\n  public authenticated = false;\n  public errorOccurred = false;\n  public userData;\n  public branches;\n  public commitReturn: boolean = false;\n\n  ngOnInit(): void {\n    if(localStorage.getItem('gitToken') && localStorage.getItem('gitToken') != 'ERROR'){\n      this.gitLoad();\n    }\n  }\n\n  public gitLoad(){\n    this.commitReturn = false;\n    this.git.getUserInfo().pipe(\n      switchMap( ret => {\n        this.userData = ret;\n        return this.git.getRepoBranches(ret.login);\n      })\n    )\n  .subscribe((ret) => {\n    this.branches = ret;\n    this.authenticated = true;\n  },\n  error => {\n    this.logout();\n\n  });\n  }\n\n  public logout(){\n    localStorage.removeItem('gitToken');\n    this.authenticated = false;\n  }\n\n  public githubAuthenticate() {\n    const s = window.open('https://github.com/login/oauth/authorize?client_id=efab4921711c71a51b5b&scope=public_repo', '_blank');\n    const timer = setInterval(() => {\n            if (s.closed) {\n                if (localStorage.getItem('gitToken') === 'ERROR') {\n                  this.errorOccurred = true;\n                  clearInterval(timer);\n                } else {\n                  clearInterval(timer);\n                  this.gitLoad();\n                }\n            }\n        }, 1000);\n  }\n\n  public commit(sha: string, branch: string): void {\n    let imgUrl = this.maskSvc.currentUrl.match(/[\\w-]+\\.png/)[0];\n    const imgs2 = (imgUrl.indexOf('_') === 5);\n    console.log(imgs2)\n    this.svgToPng.base64ToGit()\n    .then(base64 => {\n    this.ngxService.start();\n    let defaultMessage = `${imgUrl.replace('_', '').substr(0, 4)} ${this.userData.login}`\n    if(imgs2){\n      defaultMessage = `${imgUrl.replace('_', '').substr(0, 6)} ${this.userData.login}`\n    } \n    const commitMessage =  prompt('Enter Commit Message', defaultMessage).valueOf();\n    this.git.getTree(this.userData.login, sha).pipe(\n      switchMap(ret => {\n        if(imgs2) { return this.git.getTree(this.userData.login, ret.tree.filter(item => item.path === 'masks2')[0].sha); }\n        else{\n          return this.git.getTree(this.userData.login, ret.tree.filter(item => item.path === 'masks')[0].sha);\n        }\n      })\n    )\n    .pipe(\n      switchMap(ret => {\n      return this.git.commitFile(this.userData.login, commitMessage, this.svgToPng.base64Mask.replace('data:image/png;base64,', ''),\n          ret.tree.filter(mask => mask.path === imgUrl)[0].sha, branch, imgUrl);\n      })\n    ).subscribe(ret => {\n      this.commitReturn = true;\n      this.ngxService.stop();\n    });\n    }); \n  }\n\n}\n","<h5>Github Integration</h5>\n\n<button *ngIf=\"!authenticated\" type=\"button\" class=\"btn btn-sm btn-outline-primary\" (click)=\"githubAuthenticate()\">Log In</button>\n<button *ngIf=\"authenticated\" type=\"button\" class=\"btn btn-sm btn-outline-primary\" (click)=\"gitLoad()\">Reload</button>\n<button *ngIf=\"authenticated\" type=\"button\" class=\"btn btn-sm btn-outline-primary ml-2\" (click)=\"logout()\">Log Out</button>\n\n<div *ngIf=\"authenticated\" class=\"mt-2\">\n    Welcome: {{userData.login}}<br>\n    <table class=\"table table-striped table-dark table-sm\">\n        <thead>\n        <tr>\n            <td>Branch Name</td>\n            <td></td>\n        </tr>\n    </thead>\n    <tbody>\n    <tr *ngFor=\"let branch of branches\">\n        \n        <td>{{branch.name}}</td><td><button type=\"button\" class=\"btn btn-outline-primary btn-sm\" (click)=\"commit(branch.commit.sha, branch.name)\">Commit</button></td>\n        </tr>\n</tbody>\n</table>\n<div class=\"alert alert-success\" *ngIf=\"commitReturn\">Successfully committed mask</div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GitService {\n\n  constructor(private http: HttpClient) { }\n  public githubToken: string;\n  public gitTokenHeader;\n\n  private setHeaders(): void {\n    this.gitTokenHeader = new HttpHeaders({\n      'Content-Type':  'application/json',\n      'Authorization': localStorage.getItem('gitToken')\n    });\n  }\n  \n  public getGithubCode(): Observable<any> {\n    const url = 'https://github.com/login/oauth/authorize';\n    let params = new HttpParams().set('client_id', 'efab4921711c71a51b5b');\n    params = params.set('scope', 'public_repo');\n    return this.http.get(url, {params});\n  }\n\n  public getGithubToken(code: string): Observable<any> {\n    const url = `https://z4nv5b8ws6.execute-api.us-east-1.amazonaws.com/default/img-labeler-token-endpoint?code=${code}`;\n    return this.http.get(url);\n  }\n\n  public getUserInfo(): Observable<any> {\n    this.setHeaders();\n    const url = `https://api.github.com/user`;\n    return this.http.get(url, {headers: this.gitTokenHeader});\n  }\n\n  public getUserRepos(user: string): Observable<any> {\n    this.setHeaders();\n    const url = `https://api.github.com/users/${user}/repos`;\n    return this.http.get(url, {headers: this.gitTokenHeader});\n  }\n\n  public getRepoBranches(user: string): Observable<any> {\n    this.setHeaders();\n    const url = `https://api.github.com/repos/${user}/comma10k/branches`;\n    return this.http.get(url, {headers: this.gitTokenHeader});\n  }\n\n  public createCommit(user: string, message: string): Observable<any> {\n    this.setHeaders();\n    const url = `https://api.github.com/repos/${user}/comma10k/branches`;\n    return this.http.get(url, {headers: this.gitTokenHeader});\n  }\n\n  public getTree(user: string, sha: string): Observable<any> {\n    this.setHeaders();\n    const url = `https://api.github.com/repos/${user}/comma10k/git/trees/${sha}`;\n    return this.http.get(url, {headers: this.gitTokenHeader});\n  }\n\n  public commitFile(user: string, message: string, content: string, sha: string, branch: string, imageName: string) {\n    this.setHeaders();\n    const body = {\n      \"message\": message,\n      \"sha\": sha,\n      \"branch\": branch,\n      \"content\": content\n    };\n    let header = new HttpHeaders({\n      'Content-Type':  'application/json',\n      'Authorization': localStorage.getItem('gitToken')\n    });\n    let url = `https://api.github.com/repos/${user}/comma10k/contents/masks/${imageName}`;\n    if(imageName.indexOf('_') === 5){\n      url = `https://api.github.com/repos/${user}/comma10k/contents/masks2/${imageName}`;\n    }\n    return this.http.put(url, body, {headers: header});\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { GitService } from '../git.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-git',\n  templateUrl: './git.component.html',\n  styleUrls: ['./git.component.css']\n})\nexport class GitComponent implements OnInit {\n\n  constructor(private git: GitService, private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.git.getGithubToken(this.route.snapshot.queryParamMap.get(\"code\")).subscribe( ret => {\n      if (!ret.toString().includes('error')) {\n        localStorage.setItem('gitToken', 'Bearer ' + ret.toString().match(/(?<==)(.*?)(?=&)/)[0]);\n        window.close();\n      } else {\n        localStorage.setItem('gitToken', 'ERROR');\n      }\n    });\n  }\n}\n","import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { MaskingService } from '../services/masking.service';\nimport lut from 'src/assets/images.json'\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-image-selector',\n  templateUrl: './image-selector.component.html',\n  styleUrls: ['./image-selector.component.css']\n})\nexport class ImageSelectorComponent implements OnInit, AfterViewInit {\n  @ViewChild('url') url;\n  @ViewChild('imageNumber') num;\n\n  constructor(private maskSvc: MaskingService, private activatedRoute: ActivatedRoute) { }\n\n  ngOnInit(): void {\n  }\n\n  ngAfterViewInit(): void {\n    this.activatedRoute.queryParams.subscribe(params => {\n      if (params.imageNumber) {\n        this.updateImageByNum(params.imageNumber);\n      } else {\n        this.updateImageByNum(environment.defaultImageNumber);\n      }\n      setTimeout(() => {\n        if (params.showMask) {\n          if (params.showMask === 'true') {\n            this.showMask();\n          } else {\n            this.showMask(params.showMask)\n          }\n        }\n      });\n\n    });\n  }\n  public showMask(url?: string): void {\n    if (!url) {\n      url = this.url.nativeElement.value.replace(environment.imageDirectoryName, environment.maskDirectoryName);\n    }\n    this.maskSvc.setMaskUrl(url);\n  }\n\n  public fromUrl(): void {\n    this.showMask(prompt('Enter Mask URL').valueOf().replace('imgs', 'masks').replace('?raw=true', '')\n      .replace('https://github.com', 'https://raw.githubusercontent.com').replace('/blob', ''));\n  }\n\n  public updateImage(): void {\n    this.maskSvc.setImageUrl(this.url.nativeElement.value);\n  }\n\n  public updateImageByNum(number?: string): void {\n    if (!['e', 'f'].includes(this.num.nativeElement.value.slice(-1))) {\n      let imgN = this.num.nativeElement.value.padStart(4, '0');\n      if (number) {\n        imgN = number.padStart(4, '0');\n        this.num.nativeElement.value = imgN;\n      }\n      if (lut.filter(element => element.id === imgN).length > 0) {\n        let url = `${environment.imageDirectory}${lut.find(obj => obj.id === imgN).val}`;\n        this.url.nativeElement.value = url;\n        this.maskSvc.setImageUrl(url);\n      }\n      else {\n        alert(`Image ${imgN} does not exist.`);\n      }\n    } else {\n      let imgN = this.num.nativeElement.value.padStart(6, '0');\n      if (number) {\n        imgN = number.padStart(6, '0');\n        this.num.nativeElement.value = imgN;\n      }\n      if (lut.filter(element => element.id === imgN).length > 0) {\n        let url = `${environment.image2Directory}${lut.find(obj => obj.id === imgN).val}`;\n        this.url.nativeElement.value = url;\n        this.maskSvc.setImageUrl(url);\n      }\n      else {\n        alert(`Image ${imgN} does not exist.`);\n      }\n    }\n  }\n\n}\n","<div class=\"ml-2 mt-1 mb-1 mr-2\">\n    <div class=\"input-group mb-2\" style=\"width:500px\">\n        <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\" id=\"basic-addon1\">Image URL</span>\n        </div>\n        <input type=\"text\" class=\"form-control\"\n            (input)=\"updateImage()\"\n            #url aria-describedby=\"basic-addon1\">\n    </div>\n\n    <div class=\"input-group\" style=\"width:300px\">\n        <div class=\"input-group-prepend\">\n            <span class=\"input-group-text\" id=\"basic-addon1\">Image Number</span>\n        </div>\n        <input type=\"text\" class=\"form-control\" maxlength=\"7\" #imageNumber aria-describedby=\"basic-addon1\">\n        <div class=\"btn btn-outline-primary ml-1\" (click)=\"updateImageByNum()\">Go</div>\n    </div>\n    <button type=\"button\" class=\"btn btn-outline-primary mt-2\" (click)=\"showMask()\">Show Existing Mask</button>\n    <br><a (click)=\"fromUrl()\"><small>From URL</small></a>\n</div>","import { Component, OnInit, ViewChild, HostListener } from '@angular/core';\nimport { MaskingService } from '../services/masking.service';\nimport { Layer } from '../models/layer';\nimport { environment } from 'src/environments/environment';\nimport { LayerChange } from '../models/layer-change';\n\n@Component({\n  selector: 'app-layers',\n  templateUrl: './layers.component.html',\n  styleUrls: ['./layers.component.css']\n})\nexport class LayersComponent implements OnInit {\n  public layers: Layer[];\n  constructor(private maskSvc: MaskingService) { }\n  @ViewChild('opacity') opacityForm;\n  ngOnInit(): void {\n    this.maskSvc.getLayers().subscribe(layers => {\n      this.layers = layers.reverse();\n    })\n  }\n\n  public toTop(i: number): void {\n    this.maskSvc.modifyLayer(new LayerChange({index: i, type: 'up'}))\n  }\n\n  public toBottom(i: number): void {\n    this.maskSvc.modifyLayer(new LayerChange({index: i, type: 'down'}))\n  }\n\n  public delete(i: number): void {\n    if(this.layers.length === 1){\n      this.layers = undefined;\n    }\n    this.maskSvc.modifyLayer(new LayerChange({index: i, type: 'delete'}));\n  }\n\n  public toggle(i: number): void {\n    this.maskSvc.modifyLayer(new LayerChange({index: i, type: 'toggle'}));\n  }\n\n  public toggleAll(): void {\n    this.maskSvc.modifyLayer(new LayerChange({index: 0, type: 'toggleAll'}));\n  }\n\n  public updateOpacity(): void {\n    this.maskSvc.modifyLayer(new LayerChange({index: parseInt(this.opacityForm.nativeElement.value), type: 'opacity'}));\n  }\n\n  public deleteAll(): void {\n    this.maskSvc.modifyLayer(new LayerChange({index: 0, type: 'clearAll'}));\n  }  \n\n  public getLayerType(layerColor: string): {name:string, color:string}{\n    if( layerColor === 'existingMask') {\n      return {name:'Existing Mask', color: 'black'};\n    }\n    return environment.colors.filter(color => color.color == layerColor)[0];\n  }\n\n  public incrementOpacity(up: boolean): void {\n    let opacity = parseInt(this.opacityForm.nativeElement.value);\n    if (up) {\n        opacity = Math.min(opacity + 20, 100);\n    } else {\n        opacity = Math.max(opacity - 20, 0);\n    }\n    this.opacityForm.nativeElement.value = opacity;\n    this.updateOpacity();\n  }\n\n  public setColor(layer: Layer, index: number) {\n    this.layers.forEach(e => {if(e.index === layer.index)e.update(index)});\n    this.maskSvc.modifyLayer(new LayerChange(layer));\n  }\n\n  @HostListener('document:keyup', ['$event'])\n  handleKeyboardEvent(event: KeyboardEvent) {\n      if (event.code === 'ArrowUp') { this.incrementOpacity(true); }\n      if (event.code === 'ArrowDown') { this.incrementOpacity(false); }\n      if (event.code === 'Comma') { this.toggleAll(); }\n\n  }\n}\n","<div class=\"ml-2 mr-2\">\n    <div class=\"row\" style=\"max-width: 100%\">\n        <div class=\"col\">\n            <div class=\"input-group mt-1 mb-2\" style=\"width:250px\">\n                <div class=\"input-group-prepend\">\n                    <span class=\"input-group-text\" id=\"basic-addon1\">Mask Opacity</span>\n                </div>\n                <input type=\"number\" class=\"form-control\" min=\"0\" max=\"100\" value='100' (input)=\"updateOpacity()\" #opacity\n                    aria-describedby=\"basic-addon1\">\n            </div>\n        </div>\n        <div class=\"col\" style=\"text-align:right\"> <button type=\"button\" (click)=\"deleteAll()\" class=\"btn btn-outline-danger\">Clear\n                All Layers</button>\n        </div>\n\n    </div>\n\n    <table class=\"table table-striped table-dark\" *ngIf=\"layers\">\n        <thead>\n            <tr>\n                <th scope=\"col\">Layer</th>\n                <th scope=\"col\">Type</th>\n                <th scope=\"col\">To Top</th>\n                <th scope=\"col\">To Bottom</th>\n                <th scope=\"col\">Hide&nbsp;/ Show</th>\n                <th scope=\"col\">Delete</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let layer of layers\">\n                <th>{{layer.index}}</th>\n                <th><div ngbDropdown #myDrop=\"ngbDropdown\" [autoClose]=\"false\" display=\"dynamic\" placement=\"top-left\">\n                    <button class=\"btn btn-outline-light\" id=\"dropdownBasic3\" ngbDropdownToggle\n                      [ngStyle]=\"{'width': '150px', 'border-color': getLayerType(layer.type).color, 'background-color': getLayerType(layer.type).color}\"\n                    >{{getLayerType(layer.type).name}}</button>\n                    <div ngbDropdownMenu aria-labelledby=\"dropdownBasic3\" style=\"width: 450px;\" class=\"bg-dark\">\n                        <button *ngFor=\"let color of layer.colors index as i\" class=\"btn btn-dark ml-2\" type=\"button\"\n                         [ngStyle]=\"{'border-color': color.color, 'background-color': color.color}\"\n                         (click)=\"setColor(layer, i); myDrop.close()\"\n                        >{{color.name}}</button>\n                    </div>\n                </div>\n                </th>\n                <th><i class=\"fa fa-arrow-up\" (click)=\"toTop(layer.index)\" aria-hidden=\"true\"></i></th>\n                <th><i class=\"fa fa-arrow-down\" (click)=\"toBottom(layer.index)\" aria-hidden=\"true\"></i></th>\n                <th><i (click)=\"toggle(layer.index)\" *ngIf=\"layer.visibility\" class=\"fa fa-eye\"\n                        aria-hidden=\"true\"></i><i (click)=\"toggle(layer.index)\" *ngIf=\"!layer.visibility\"\n                        class=\"fa fa-eye-slash\" aria-hidden=\"true\"></i></th>\n                <th><i class=\"fa fa-close\" (click)=\"delete(layer.index)\" aria-hidden=\"true\"></i>\n                </th>\n            </tr>\n        </tbody>\n    </table>\n    <div class=\"alert alert-dark\" *ngIf=\"!layers\">No Layers Yet</div>\n</div>","export class LayerChange {\n    constructor(item: any, collection?: string){\n        this.type = item.type;\n        this.index = item.index;\n        if(collection)\n        this.collection = collection;\n    }\n\n    public type: string;\n    public index: number;\n    public collection: string;\n}\n","import { environment } from 'src/environments/environment';\n\nexport class Layer {\n    constructor(item: any){\n        this.type = item.type;\n        this.index = item.index;\n        this.visibility = false;\n        if(item.visibility === 'visible') {\n            this.visibility = true;\n        }\n        if (this.type === 'existingMask') {\n            this.colors = []\n        } else {\n            this.colors = environment.colors.filter(elem => elem.color != this.type);\n        }\n    }\n    public colors; // other possible color options\n    public type: string;\n    public index: number;\n    public visibility: boolean;\n    public update(index: number): void {\n        this.type = this.colors[index].color;\n        this.colors = environment.colors.filter(elem => elem.color != this.type);\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { MaskingService } from '../services/masking.service';\nimport { LayerChange } from '../models/layer-change';\n\n@Component({\n  selector: 'app-revert-from-history',\n  templateUrl: './revert-from-history.component.html',\n  styleUrls: ['./revert-from-history.component.css']\n})\nexport class RevertFromHistoryComponent implements OnInit {\n  public previousMasks: { id: string, data: any, key: string }[];\n  constructor(private maskSvc: MaskingService) { }\n\n  ngOnInit(): void {\n    let i = this.loadMasksFromStorage()\n    if (i >= 31) {\n      alert(`You currently have ${i - 1} masks in in local storage. img-labeler recommends you don't exceed 30, consider deleting some under the Advanced dropdown`)\n    }\n  }\n\n  public save(){\n    this.maskSvc.modifyLayer(new LayerChange({index: 0, type: 'addToLocalStorage'}));\n    this.loadMasksFromStorage();\n  }\n\n  public loadMasksFromStorage(): number{\n    this.previousMasks = [];\n    const storage = Object.entries(localStorage);\n    let i = 0;\n    for (const item of storage) {\n      if (!item[0].includes('gitToken')) {\n        const id = item[0].match(/[\\w-]+\\.(png|jpg)/)[0].substring(0, 4);\n        this.previousMasks.push({ id: id, data: item[1], key: item[0] });\n      }\n      i++;\n    }\n    this.previousMasks.sort((a, b) => (a.id > b.id) ? 1 : -1);\n    return i;\n  }\n  public revert(collection: string): void {\n    this.maskSvc.revert(collection);\n  }\n\n  public delete(key: string): void {\n    localStorage.removeItem(key);\n    this.loadMasksFromStorage();\n  }\n\n}\n","<h5>Revert From History</h5>\n<table class=\"table table-striped table-dark table-sm\" *ngIf=\"previousMasks\">\n    <tbody>\n        <tr *ngFor=\"let mask of previousMasks\">\n            <td>\n                {{mask.id}}\n            </td>\n            <td>\n                <button class=\"btn btn-outline-primary btn-sm ml-1\" (click)=\"revert(mask.data)\">Revert</button>\n                <button class=\"btn btn-outline-danger btn-sm ml-1\" (click)=\"delete(mask.key)\">Delete</button>\n            </td>\n        </tr>\n    </tbody>\n</table>\n<h6>Save To History <button class=\"btn btn-outline-primary btn-sm ml-1\" (click)=\"save()\">Save</button></h6>","import { Injectable } from '@angular/core';\nimport lut from 'src/assets/images.json'\n@Injectable({\n  providedIn: 'root'\n})\nexport class LutServiceService {\n  constructor() { }\n\n  public getUrl(id: string): string {\n    return lut.find(obj => obj.id === id).val;\n  }\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { Color } from '../models/color';\nimport { Observable, Subject } from 'rxjs';\nimport { Layer } from '../models/layer';\nimport { LayerChange } from '../models/layer-change';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MaskingService {\n  public currentColor: Color = environment.colors[0];\n  public maskUrl: Subject<string> = new Subject<string>();\n  public imageUrl: Subject<string> = new Subject<string>();\n  public layers: Subject<Layer[]> = new Subject<Layer[]>();\n  public layerChange: Subject<LayerChange> = new Subject<LayerChange>();\n  public mask: any;\n  public currentOpacity: number;\n  public currentUrl: string = environment.defaultImage;\n  public currentMaskUrl: string;\n  public artboard: any;\n\n  // TODO: This is a hack, do this right (using a model?)!\n  public imgDimensionConfig = {\n    \"imgs\": {\n      width: 1164,\n      height: 874,\n      canvasWidth: 1250,\n      canvasHeight: 950\n    },\n    \"imgs2\": {\n      width: 1928,\n      height: 1208,\n      canvasWidth: 2014,\n      canvasHeight: 1284\n    }\n  };\n\n  public series = \"imgs\";\n\n  constructor() {\n  }\n  public setColor(index: number): void {\n    this.currentColor = environment.colors[index];\n  }\n\n  public setArtboard(artboard: any): void {\n    this.artboard = artboard;\n  }\n\n  public togglePixelation(): void {\n    if (getComputedStyle(this.mask.dom.children[0]).imageRendering === 'pixelated') {\n      this.mask.dom.children[0].style.imageRendering = 'auto';\n    } else {\n      this.mask.dom.children[0].style.imageRendering = 'pixelated';\n    }\n  }\n\n  public getPixelation(): boolean {\n    if (getComputedStyle(this.mask.dom.children[0]).imageRendering === 'pixelated') {\n      return true;\n    }\n      return false;\n  }\n\n  public getColor(): Color {\n    return this.currentColor;\n  }\n\n  public setImageUrl(url: string): void {\n    var series = url.match(/[\\w-]+\\/[\\w-]+\\.(png|jpg)$/)[0].split(\"/\")[0];\n    this.setDimensions(series);\n    if (this.mask && this.mask.dom.children[0].children.length > 0) {\n      this.modifyLayer(new LayerChange({ index: 0, type: 'clearAll' }));\n      this.currentUrl = url;\n      this.imageUrl.next(url);\n    } else {\n      this.currentUrl = url;\n      this.imageUrl.next(url);\n    }\n  }\n\n  public setDimensions(series: string): void {\n    this.series = series;\n  }\n\n  public getDimensions(): void {\n    return this.imgDimensionConfig[this.series];\n  }\n\n  public getImageUrl(): Observable<string> {\n    return this.imageUrl;\n  }\n\n  public getCurrentImageUrl(): string {\n    return this.currentUrl;\n  }\n\n  public setMaskUrl(url: string): void {\n    this.currentMaskUrl = url;\n    this.maskUrl.next(url);\n    this.updateMask(this.mask);\n  }\n\n  public getMaskUrl(): Observable<string> {\n    return this.maskUrl;\n  }\n\n  public updateMask(mask): void {\n    this.mask = mask;\n    let layers: Layer[] = [];\n    let i = 0;\n    if (mask.dom.children[0].children.length > 0) {\n      mask.dom.children[0].children.forEach(element => {\n        if (element.classList[1] === 'completePoly') {\n          const color = element.getAttribute('color');\n          layers.push(new Layer({ type: color, index: i.toString(), visibility: element.attributes.visibility.value }))\n        }\n        i++;\n      });\n      this.layers.next(layers);\n    }\n  }\n\n  public loadedMask(): boolean {\n    if (this.mask.dom.children[0].children.length > 0) {\n      for (let element of this.mask.dom.children[0].children) {\n        if (element.classList[0] === 'existingMask') {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  public loadedMaskUrl(): string {\n    if (this.mask.dom.children[0].children.length > 0) {\n      for (let element of this.mask.dom.children[0].children) {\n        if (element.classList[0] === 'existingMask') {\n          return element.children[0].href.baseVal\n        }\n      }\n    }\n  }\n\n  public setLayers(layers: Layer[]): void {\n    this.layers.next(layers);\n  }\n\n  public getLayers(): Observable<Layer[]> {\n    return this.layers;\n  }\n\n  public modifyLayer(change: LayerChange): void {\n    if (change.type === 'opacity') {\n      this.currentOpacity = change.index * .01;\n    }\n    this.layerChange.next(change);\n  }\n\n  public revert(collection: string): void {\n    let req = new LayerChange({ type: 'revert', index: 0 }, collection)\n    this.layerChange.next(req);\n  }\n\n  public getLayerChange(): Observable<LayerChange> {\n    return this.layerChange;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport * as parseSVG from 'svg-path-parser';\nimport { Observable } from 'rxjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class PngToSvgService {\n\n  constructor() { }\n\n  // this is from https://github.com/Phrogz/svg-path-to-polygons/blob/master/svg-path-to-polygons.js\n  // imported into service to fix broken packaging\n\n  public svgPathToPolygons(svgPathString: string, opts: any = {}) {\n    if (!opts.tolerance) { opts.tolerance = 1; }\n    const polys = [];\n    const tolerance2 = opts.tolerance * opts.tolerance;\n    let poly: any = [];\n    let prev;\n    parseSVG.makeAbsolute(parseSVG(svgPathString)).forEach(cmd => {\n      switch (cmd.code) {\n        case 'M':\n          polys.push(poly = []);\n        // intentional flow-through\n        case 'L':\n        case 'H':\n        case 'V':\n        case 'Z':\n          add(cmd.x, cmd.y);\n          if (cmd.code === 'Z') { poly.closed = true; }\n          break;\n\n        case 'C':\n          sampleCubicBézier(cmd.x0, cmd.y0, cmd.x1, cmd.y1, cmd.x2, cmd.y2, cmd.x, cmd.y);\n          add(cmd.x, cmd.y);\n          break;\n\n        case 'S':\n          let x1 = 0;\n          let y1 = 0;\n          if (prev) {\n            if (prev.code === 'C') {\n              x1 = prev.x * 2 - prev.x2;\n              y1 = prev.y * 2 - prev.y2;\n            } else {\n              x1 = prev.x;\n              y1 = prev.y;\n            }\n          }\n          sampleCubicBézier(cmd.x0, cmd.y0, x1, y1, cmd.x2, cmd.y2, cmd.x, cmd.y);\n          add(cmd.x, cmd.y);\n          break;\n\n        default:\n          console.error('Our deepest apologies, but ' + cmd.command + ' commands (' + cmd.code + ') are not yet supported.');\n          process.exit(2);\n      }\n      prev = cmd;\n    });\n    return polys;\n\n    // http://antigrain.com/research/adaptive_bezier/\n    function sampleCubicBézier(x0, y0, x1, y1, x2, y2, x3, y3) {\n      // Calculate all the mid-points of the line segments\n      const x01 = (x0 + x1) / 2;\n      const y01 = (y0 + y1) / 2;\n      const x12 = (x1 + x2) / 2;\n      const y12 = (y1 + y2) / 2;\n      const x23 = (x2 + x3) / 2;\n      const y23 = (y2 + y3) / 2;\n      const x012 = (x01 + x12) / 2;\n      const y012 = (y01 + y12) / 2;\n      const x123 = (x12 + x23) / 2;\n      const y123 = (y12 + y23) / 2;\n      const x0123 = (x012 + x123) / 2;\n      const y0123 = (y012 + y123) / 2;\n\n      // Try to approximate the full cubic curve by a single straight line\n      const dx = x3 - x0;\n      const dy = y3 - y0;\n\n      const d1 = Math.abs(((x1 - x3) * dy - (y1 - y3) * dx));\n      const d2 = Math.abs(((x2 - x3) * dy - (y2 - y3) * dx));\n\n      if (((d1 + d2) * (d1 + d2)) < (tolerance2 * (dx * dx + dy * dy))) { add(x0123, y0123); } else { // Continue subdivision\n        sampleCubicBézier(x0, y0, x01, y01, x012, y012, x0123, y0123);\n        sampleCubicBézier(x0123, y0123, x123, y123, x23, y23, x3, y3);\n      }\n    }\n\n    function add(x, y) {\n      if (opts.decimals && opts.decimals >= 0) {\n        x = x.toFixed(opts.decimals) * 1;\n        y = y.toFixed(opts.decimals) * 1;\n      }\n      poly.push([x, y]);\n    }\n  }\n\n\n  // this is from https://github.com/substack/point-in-polygon/blob/master/index.js\n  // imported into service to fix broken packaging\n  public pointInPoly(point, vs) {\n    // ray-casting algorithm based on\n    // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n\n    const x = point[0];\n    const y = point[1];\n\n    let inside = false;\n    for (let i = 0, j = vs.length - 1; i < vs.length; j = i++) {\n      const xi = vs[i][0];\n      const yi = vs[i][1];\n      const xj = vs[j][0];\n      const yj = vs[j][1];\n\n      const intersect = ((yi > y) !== (yj > y))\n        && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n      if (intersect) { inside = !inside; }\n    }\n\n    return inside;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, from } from 'rxjs';\nimport { MaskingService } from './masking.service';\nimport * as svgSave from 'save-svg-as-png';\nimport * as Jimp from 'jimp';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SvgtopngService {\n  public base64Mask: string;\n  constructor(private maskSvc: MaskingService) { }\n  public dimensions;\n\n  public save(): void {\n    const holder = this;\n    this.dimensions = this.maskSvc.getDimensions();\n    if (!this.maskSvc.loadedMask()) {\n      this.maskSvc.mask.d3.selectAll('.completePoly').attr('opacity', 1);\n      this.maskSvc.mask.d3.selectAll('.completePoly').attr('visibility', 'visible');\n      this.maskSvc.mask.d3.selectAll('circle').attr('opacity', 0);\n      this.maskSvc.mask.d3.insert('polygon', ':first-child').attr('class', 'background').style('fill', '#808060')\n        .attr('points', '0,0,0,'+this.dimensions.canvasHeight+','+this.dimensions.canvasWidth+','+this.dimensions.canvasHeight+','+this.dimensions.canvasWidth+',0').attr('shape-rendering', 'crispEdges');\n\n      svgSave.saveSvgAsPng(this.maskSvc.mask.dom.children[0], this.maskSvc.getCurrentImageUrl().match(/[\\w-]+\\.(png|jpg)/)[0]\n        .replace(/.(png|jpg)/, ''), { width: this.dimensions.width, height: this.dimensions.height, top: 38, left: 43, encoderOptions: 0.0, scale: (1 / window.devicePixelRatio) }).then(\n          () => {\n            this.maskSvc.mask.d3.selectAll('.completePoly').attr('opacity', this.maskSvc.currentOpacity);\n            this.maskSvc.mask.d3.selectAll('circle').attr('opacity', 1);\n            this.maskSvc.mask.d3.selectAll('.background').remove();\n          }\n        );\n\n    } else {\n      this.maskSvc.mask.d3.selectAll('.completePoly').attr('opacity', 1);\n      this.maskSvc.mask.d3.selectAll('.completePoly').attr('visibility', 'visible');\n      this.maskSvc.mask.d3.selectAll('circle').attr('opacity', 0);\n      svgSave.svgAsPngUri(this.maskSvc.mask.dom.children[0], { width: this.dimensions.width, height: this.dimensions.height, top: 38, left: 43, encoderOptions: 0.0, scale: (1 / window.devicePixelRatio) })\n        .then(uri => {\n          Jimp.read(this.maskSvc.loadedMaskUrl(), (err, originalMask) => {\n            Jimp.read(uri, (err, image) => {\n              originalMask.composite(image, 0, 0);\n              holder.downloadImage(originalMask);\n            });\n          });\n          this.maskSvc.mask.d3.selectAll('.completePoly').attr('opacity', this.maskSvc.currentOpacity);\n          this.maskSvc.mask.d3.selectAll('circle').attr('opacity', 1);\n        }\n        );\n    }\n  }\n\n  public downloadImage(image) {\n    image.getBase64(Jimp.AUTO, (err, res) => {\n      const download = document.createElement('a');\n      download.href = res;\n      download.download = this.maskSvc.currentUrl.match(/[\\w-]+\\.(png|jpg)/)[0];\n      download.click();\n    });\n  }\n\n\n  public base64ToGit(): Promise<string> {\n    const holder = this;\n    let gitImage;\n    if (!this.maskSvc.loadedMask()) {\n      this.dimensions = this.maskSvc.getDimensions();\n      this.maskSvc.mask.d3.selectAll('.completePoly').attr('opacity', 1);\n      this.maskSvc.mask.d3.selectAll('.completePoly').attr('visibility', 'visible');\n      this.maskSvc.mask.d3.selectAll('circle').attr('opacity', 0);\n      this.maskSvc.mask.d3.insert('polygon', ':first-child').attr('class', 'background').style('fill', '#808060')\n        .attr('points', '0,0,0,'+this.dimensions.canvasHeight+','+this.dimensions.canvasWidth+','+this.dimensions.canvasHeight+','+this.dimensions.canvasWidth+',0').attr('shape-rendering', 'crispEdges');\n      return svgSave.svgAsPngUri(this.maskSvc.mask.dom.children[0],\n        { width: this.dimensions.width, height: this.dimensions.height, top: 38, left: 43, encoderOptions: 0.0 }).then(\n          (image) => {\n            gitImage = image;\n            this.maskSvc.mask.d3.selectAll('.completePoly').attr('opacity', this.maskSvc.currentOpacity);\n            this.maskSvc.mask.d3.selectAll('circle').attr('opacity', 1);\n            this.maskSvc.mask.d3.selectAll('.background').remove();\n            this.base64Mask = image;\n            return image;\n          }\n        );\n    } else {\n      this.maskSvc.mask.d3.selectAll('.completePoly').attr('opacity', 1);\n      this.maskSvc.mask.d3.selectAll('.completePoly').attr('visibility', 'visible');\n      this.maskSvc.mask.d3.selectAll('circle').attr('opacity', 0);\n      return svgSave.svgAsPngUri(this.maskSvc.mask.dom.children[0], { width: this.dimensions.width, height: this.dimensions.height, top: 38, left: 43, encoderOptions: 0.0 })\n        .then(uri => {\n          Jimp.read(this.maskSvc.loadedMaskUrl(), (err, originalMask) => {\n            Jimp.read(uri, (err, image) => {\n              originalMask.composite(image, 0, 0);\n              return originalMask.getBase64('image/png', (err, res) => {\n                this.base64Mask = res;\n                return res;\n              });\n            });\n          });\n          this.maskSvc.mask.d3.selectAll('.completePoly').attr('opacity', this.maskSvc.currentOpacity);\n          this.maskSvc.mask.d3.selectAll('circle').attr('opacity', 1);\n        }\n        );\n    }\n\n  }\n\n  public setBase64(image): string {\n    return image.getBase64(Jimp.AUTO, (err, res) => {\n      return res;\n    });\n  }\n}\n","import { Component, OnInit, HostListener } from '@angular/core';\nimport { MaskingService } from '../services/masking.service';\n\n@Component({\n  selector: 'app-toggle-pixelation',\n  templateUrl: './toggle-pixelation.component.html',\n  styleUrls: ['./toggle-pixelation.component.css']\n})\nexport class TogglePixelationComponent implements OnInit {\n\n  constructor(private maskingSvc: MaskingService) { }\n  public pixelationOff: boolean = false;\n  ngOnInit(): void {\n  }\n\n  @HostListener('document:keyup', ['$event'])\n  handleKeyboardEvent(event: KeyboardEvent) {\n      if (event.code === 'KeyP') { this.togglePixelation(); }\n  }\n\n  public togglePixelation(): void{\n    this.maskingSvc.togglePixelation();\n    this.pixelationOff = !this.pixelationOff;\n  }\n}\n","import { Component, OnInit, HostListener } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { MaskingService } from '../services/masking.service';\n\n@Component({\n  selector: 'app-toolbar-color-selector',\n  templateUrl: './toolbar-color-selector.component.html',\n  styleUrls: ['./toolbar-color-selector.component.css']\n})\nexport class ToolbarColorSelectorComponent implements OnInit {\n\n  constructor(public maskSvc: MaskingService) { }\n  public colors;\n  public ntype = environment.colors[0];\n  public compactDropDownMenu = false;\n\n  ngOnInit(): void {\n    this.selectMenuLayout(window.innerWidth);\n  }\n\n  public selectMenuLayout(windowWidth) {\n    if (windowWidth < 1200) {\n      this.compactDropDownMenu = true;\n      this.colors = environment.colors.filter(elem => elem.name != this.ntype.name);\n    } else {\n      this.compactDropDownMenu = false;\n      this.colors = environment.colors;\n    }\n  }\n\n  public setColor(index: number){\n    this.ntype = this.colors[index];\n    if (this.compactDropDownMenu) {\n      this.maskSvc.setColor(environment.colors.findIndex(e => e.name === this.ntype.name));\n      this.colors = environment.colors.filter(elem => elem.name != this.ntype.name);\n    } else {\n      this.maskSvc.setColor(index);\n      this.colors = environment.colors;\n    }\n  }\n\n\n  @HostListener('document:keyup', ['$event'])\n  handleKeyboardEvent(event: KeyboardEvent) {\n    const KeyMap = ['KeyR', 'KeyL', 'KeyU', 'KeyM', 'KeyC'];\n    if (KeyMap.includes(event.code)) {\n      const index = KeyMap.findIndex(e => e === event.code);\n      if (this.compactDropDownMenu) {\n        const name = environment.colors[index].name;\n        if (name !== this.ntype.name) {\n          this.setColor(this.colors.findIndex(e => e.name === name));\n        }\n      } else {\n        this.setColor(index);\n      }\n    }\n  }\n  \n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    this.selectMenuLayout(window.innerWidth);\n  }\n}\n","<div ngbDropdown #myDrop=\"ngbDropdown\" *ngIf=\"compactDropDownMenu\" [autoClose]=\"false\" display=\"dynamic\" placement=\"bottom-right\" class=\"d-inline-block\">\n    <button class=\"btn btn-outline-light\" id=\"dropdownBasic3\" ngbDropdownToggle\n      [ngStyle]=\"{'width': '150px', 'border-color': ntype.color, 'background-color': ntype.color}\"\n    >{{ntype.name}}</button>\n    <div ngbDropdownMenu aria-labelledby=\"dropdownBasic3\" style=\"overflow:auto; max-height: 600px;\" class=\"bg-dark\">\n        <button *ngFor=\"let color of colors index as i\" class=\"btn btn-dark ml-2\" type=\"button\"\n         [ngStyle]=\"{'width': '140px', 'border-color': color.color, 'background-color': color.color, 'text-decoration': this.maskSvc.currentColor.color === color.color ? 'underline' : 'none'}\"\n         (click)=\"setColor(i); myDrop.close()\"\n        >{{color.name}}</button>\n    </div>\n</div>\n\n<div *ngIf=\"!compactDropDownMenu\">\n<button  *ngFor=\"let color of colors index as i\" class=\"btn btn-dark ml-2\" type=\"button\"\n [ngStyle]=\"{'border-color': color.color, 'background-color': color.color, 'text-decoration': this.maskSvc.currentColor.color === color.color ? 'underline' : 'none'}\"\n  (click)=\"setColor(i)\">\n {{color.name}}</button>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { SvgtopngService } from '../services/svgtopng.service';\nimport { version } from 'package.json';\n\n@Component({\n  selector: 'app-toolbar',\n  templateUrl: './toolbar.component.html',\n  styleUrls: ['./toolbar.component.css']\n})\nexport class ToolbarComponent implements OnInit {\n  public version: string = version;\n  constructor(private svgToPng: SvgtopngService) { }\n\n  ngOnInit(): void {\n  }\n\n  public save(){\n    this.svgToPng.save();\n  }\n\n}\n","<nav class=\"navbar navbar-dark bg-dark\">\n    <a class=\"navbar-brand\">Image Labeler</a>\n    <app-toolbar-color-selector></app-toolbar-color-selector>\n\n    <div ngbDropdown display=\"dynamic\" placement=\"bottom-right\" class=\"d-inline-block\">\n        <button class=\"btn btn-outline-light\" id=\"dropdownBasic3\" ngbDropdownToggle>Image URL</button>\n        <div ngbDropdownMenu aria-labelledby=\"dropdownBasic3\" style=\"overflow:auto; max-height: 600px;\" class=\"bg-dark\">\n            <app-image-selector></app-image-selector>\n        </div>\n    </div>\n\n    <div ngbDropdown display=\"dynamic\" placement=\"bottom-right\" class=\"d-inline-block\">\n        <button class=\"btn btn-outline-light\" id=\"dropdownBasic1\" ngbDropdownToggle>Layers</button>\n        <div ngbDropdownMenu aria-labelledby=\"dropdownBasic1\" style=\"overflow:auto; max-height: 600px; width:600px;\"\n            class=\"bg-dark\">\n            <app-layers></app-layers>\n        </div>\n    </div>\n    <div ngbDropdown display=\"dynamic\" placement=\"bottom-right\" class=\"d-inline-block\">\n        <button class=\"btn btn-outline-light\" id=\"dropdownBasic3\" ngbDropdownToggle>Advanced</button>\n        <div ngbDropdownMenu aria-labelledby=\"dropdownBasic3\"\n            style=\"overflow:auto; max-height: 600px; color:#eee; width:300px; padding: 10px 10px 10px 10px\"\n            class=\"bg-dark\">\n            <app-git-manage></app-git-manage>\n            <app-toggle-pixelation></app-toggle-pixelation>\n            <app-revert-from-history></app-revert-from-history>\n        </div>\n    </div>\n    <div ngbDropdown display=\"dynamic\" placement=\"bottom-right\" class=\"d-inline-block\">\n        <button class=\"btn btn-outline-light\" id=\"dropdownBasic4\" ngbDropdownToggle>Help</button>\n        <div ngbDropdownMenu aria-labelledby=\"dropdownBasic4\"\n            style=\"overflow:auto; max-height: 600px; color:#eee; width:300px; padding: 10px 10px 10px 10px\"\n            class=\"bg-dark\">\n            <h5>Controls</h5>\n            <table class=\"table table-striped table-dark\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">Key</th>\n                        <th scope=\"col\">Action</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <th scope=\"row\">Scroll</th>\n                        <td>Zoom</td>\n                    </tr>\n                    <tr>\n                        <th scope=\"row\">Left Click</th>\n                        <td>Place Point</td>\n                    </tr>\n                    <tr>\n                        <th scope=\"row\">Right Click</th>\n                        <td>Pan</td>\n                    </tr>\n                    <tr>\n                        <th scope=\"row\">R, L, U, M, C</th>\n                        <td>Change Color</td>\n                    </tr>\n                    <tr>\n                        <th scope=\"row\">Ctrl+Z</th>\n                        <td>Undo</td>\n                    </tr>\n                    <tr>\n                        <th scope=\"row\">P</th>\n                        <td>Toggle background image pixelation</td>\n                    </tr>\n                    <tr>\n                        <th scope=\"row\">O</th>\n                        <td>Toggle export preview</td>\n                    </tr>\n                    <tr>\n                        <th scope=\"row\"><i class=\"fa fa-arrow-up\" aria-hidden=\"true\"></i> <i class=\"fa fa-arrow-down\" aria-hidden=\"true\"></i></th>\n                        <td>Increment Opacity</td>\n                    </tr>\n                    <tr>\n                        <th scope=\"row\">,</th>\n                        <td>Toggle all layer visibility</td>\n                    </tr>\n                    <tr>\n                        <th scope=\"row\">[</th>\n                        <td>Toggle control point visibility</td>\n                    </tr>\n                    <tr>\n                        <th scope=\"row\">0</th>\n                        <td>Reset pan and zoom levels</td>\n                    </tr>\n                    <tr>\n                        <th scope=\"row\">Alt + Click</th>\n                        <td>Delete Layer</td>\n                    </tr>\n                </tbody>\n            </table>\n            <br>\n            <h5>How to use</h5>\n            This is how I personally use this tool the quickest. First, I label all the movables and lane markings.\n            Next, I label the road, and move it to the bottom with the layer palette. Then I add a box of undrivable\n            over the entire image and move it to the bottom. Finally, I add the car section over the hood\n            <h6 class=\"mt-3\">img-labeler version: {{version}}</h6>\n        </div>\n    </div>\n    <button type=\"button\" class=\"btn btn-outline-light\" (click)=\"save()\">Save</button>\n    <button type=\"button\" class=\"btn btn-outline-danger\">Reset</button>\n\n\n\n</nav>","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  colors: [\n    {name: 'Road', color: '#402020'},\n    {name: 'Lane Markings', color: '#ff0000'},\n    {name: 'Undrivable', color: '#808060'},\n    {name: 'Movable', color: '#00ff66'},\n    {name: 'My Car', color: '#cc00ff'}\n  ],\n  defaultImage: 'https://raw.githubusercontent.com/commaai/comma10k/master/imgs/0005_836d09212ac1b8fa_2018-06-15--15-57-15_23_345.png',\n  defaultImageNumber: '0005',\n  imageDirectory: 'https://raw.githubusercontent.com/commaai/comma10k/master/imgs/',\n  image2Directory: 'https://raw.githubusercontent.com/commaai/comma10k/master/imgs2/',\n  imageDirectoryName: 'imgs',\n  maskDirectoryName: 'masks'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}